<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Live Language Translator</title>
  <style>
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #4a1d6b 100%);
  color: #333;
  overflow-x: hidden;
}

/* Header */
.header {
  position: relative;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
}

.logo {
  position: absolute;
  background-color: white;
  padding: 10px;
  border-radius: 8px;
  left: 30px;
  height: 60px;
}

.header h1 {
  font-size: clamp(2em, 4vw, 3.5em); /* ‚úÖ scales with zoom/screen */
  color: white;
  text-align: center;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

/* Page Layout */
.main-layout {
  display: flex;
  flex-wrap: wrap;        /* ‚úÖ allows wrapping on zoom */
  justify-content: space-between;
  gap: 15px;
  height: auto;
  padding: 15px;
}

/* Sidebar (Supported Languages) */
.sidebar {
  flex: 1 1 250px;        /* ‚úÖ flexible, min width */
  max-width: 20%;
  min-width: 250px;
  padding: 25px 20px;
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* History */
.history {
  flex: 1 1 250px;        /* ‚úÖ flexible */
  max-width: 20%;
  min-width: 250px;
  background: rgba(255, 255, 255, 0.1);
  padding: 20px 25px;
  border-radius: 15px;
  color: white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  padding-top: 65px;
}

/* Main Content */
.main-content {
  flex: 2 1 500px;        /* ‚úÖ more space */
  max-width: 60%;
  min-width: 350px;
  padding: 0 10px;
  display: flex;
  justify-content: center;
}

.card {
  background: white;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  width: 100%;
  min-height: 400px;
}

/* Textarea */
textarea {
  width: 100%;
  padding: 15px;
  border: 2px solid #e9ecef;
  border-radius: 8px;
  font-size: 16px;
  resize: vertical;
  min-height: 200px;
  font-family: inherit;
}

textarea:focus {
  outline: none;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

/* Translation Output */
#translatedOutput {
  white-space: pre-wrap;
  border: 2px solid #e9ecef;
  padding: 25px;
  min-height: 210px;
  border-radius: 8px;
  background: #f8f9fa;
  font-family: inherit;
  line-height: 1.5;
  margin-top: 20px;
}

/* Processing Indicator */
.processing-indicator {
  display: none;
  text-align: center;
  color: #667eea;
  font-style: italic;
  margin: 10px 0;
}

/* History List */
ul {
  list-style: none;
  padding-left: 0;
}

li {
  padding: 5px 0;
}

.history-list {
  font-size: 0.9em;
  color: #f1f1f1;
}

.history-list li {
  margin-bottom: 8px;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.2);
  padding-bottom: 4px;
}

/* Responsive for smaller screens & zoom */
@media (max-width: 1200px) {
  .main-layout {
    flex-direction: column;
    align-items: stretch;
  }
  .sidebar, .main-content, .history {
    max-width: 100%;
    min-width: 100%;
  }
  .history {
    padding-top: 20px;
  }
}
  </style>
</head>
<body>

  <!-- Header -->
  <div class="header">
    <img src="https://www.c5i.ai/wp-content/themes/course5iTheme/new-assets/images/c5i-primary-logo.svg" alt="Company Logo" class="logo" />
    <h1> Live Language Translator</h1>
  </div>

  <!-- Main Layout -->
  <div class="main-layout">

    <!-- Supported Languages Sidebar -->
    <div class="sidebar">
      <h3>üåê Supported Languages</h3>
      <ul>
        <li>JP - Japanese</li>
        <li>CH - Chinese</li>
        <li>PT - Portuguese</li>
        <li>DE - German</li>
        <li>AR - Arabic</li>
        <li>HI - Hindi</li>
        <li>IT - Latin</li> 
        <li>RU - Russian</li>
        <li>ES - Spanish</li>
        <li>IT - Italian</li>
        <li>FR - French</li>
        <li>VI - Vietnamese</li>
        <li>PL - Polish</li>
        <li>KO - Korean</li>
        <li>BN - Bangla</li>
        <li>ID - Indonesian</li>
        <li>SV - Swedish</li>
      </ul>
    </div>

    <!-- Center Translator Box -->
    <div class="main-content">
      <div class="card">
        <h2>üîÑ Real-time Translation</h2>
        <p style="margin:10px 0;"><strong>üéØ Target:</strong> English (Auto-detect source)</p>
        <textarea id="inputText" placeholder="Type or paste text here..."></textarea>
        <div class="processing-indicator" id="processing">üîÑ Translating...</div>
        <h2 style="margin-top:25px;">‚úÖ Translation Result</h2>
        <div id="translatedOutput">Start typing to see translation...</div>
      </div>
    </div>

    <!-- Translation History -->
    <div class="history">
      <h3 >üïò Recent History</h3>
      <ul class="history-list" id="historyList">
        <li>No history yet.</li>
      </ul>
    </div>
  </div>

  <!-- JS Logic -->
  <script>
    const inputBox = document.getElementById("inputText");
    const outputBox = document.getElementById("translatedOutput");
    const processing = document.getElementById("processing");
    const historyList = document.getElementById("historyList");
    let timeout = null;

    function addToHistory(original, translated, lang) {
      const entry = document.createElement("li");
      entry.innerText = `[${lang.toUpperCase()} ‚Üí EN] ${original.slice(0, 30)}... ‚Üí ${translated.slice(0, 30)}...`;
      if (historyList.children[0]?.innerText === "No history yet.") {
        historyList.innerHTML = "";
      }
      historyList.prepend(entry);
      if (historyList.children.length > 20) {
        historyList.removeChild(historyList.lastChild);
      }
    }

    inputBox.addEventListener("input", () => {
      clearTimeout(timeout);
      const text = inputBox.value.trim();
      if (!text) {
        outputBox.innerText = "Start typing to see translation...";
        processing.style.display = "none";
        return;
      }
      processing.style.display = "block";
      outputBox.innerText = "";
      timeout = setTimeout(() => {
        fetch("/ajax_translate", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ text: text })
        })
        .then(r => r.json())
        .then(data => {
          processing.style.display = "none";
          if (data.translation) {
            const langLabel = data.detected_lang
              ? `[${data.detected_lang.toUpperCase()} ‚Üí EN]`
              : "";
            outputBox.innerText = `${langLabel}\n${data.translation}`;
            addToHistory(text, data.translation, data.detected_lang || "??");
          } else {
            outputBox.innerText = "[Translation unavailable]";
          }
        })
        .catch(() => {
          processing.style.display = "none";
          outputBox.innerText = "[Translation error - please try again]";
        });
      }, 800);
    });
  </script>

</body>
</html>



